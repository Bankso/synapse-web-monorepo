name: "Deploy AD Knowledge portal"

on:
  push:
    branches:
      - releases/portals/staging
    paths:
      - "apps/portals/**"
      - "!apps/portals/src/configurations/**"
      - "apps/portals/src/configurations/adknowldgeportal/**"
      - "packages/synapse-react-client/**"

jobs:
  deploy:
    permissions:
      id-token: write
      contents: read
    uses: ./.github/workflows/build-and-deploy-portal.yml
    with:
      portal-name: adknowledgeportal

